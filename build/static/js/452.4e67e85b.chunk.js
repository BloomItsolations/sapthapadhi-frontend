"use strict";(self.webpackChunksapthapadhi=self.webpackChunksapthapadhi||[]).push([[452],{7452:(e,a,t)=>{t.r(a),t.d(a,{default:()=>D});var o=t(5043),n=t(3003),r=t(6240),s=t(6446),i=t(9252),l=t(8903),d=t(2110),c=t(8587),p=t(8168),u=t(8387),m=t(8606),y=t(5865),h=t(2876),v=t(4535),x=t(7056),A=t(2400);function g(e){return(0,A.Ay)("MuiCardHeader",e)}const f=(0,x.A)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var b=t(579);const j=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],C=(0,v.Ay)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,a)=>(0,p.A)({["& .".concat(f.title)]:a.title,["& .".concat(f.subheader)]:a.subheader},a.root)})({display:"flex",alignItems:"center",padding:16}),S=(0,v.Ay)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,a)=>a.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),w=(0,v.Ay)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,a)=>a.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),k=(0,v.Ay)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,a)=>a.content})({flex:"1 1 auto"}),R=o.forwardRef((function(e,a){const t=(0,h.A)({props:e,name:"MuiCardHeader"}),{action:o,avatar:n,className:r,component:s="div",disableTypography:i=!1,subheader:l,subheaderTypographyProps:d,title:v,titleTypographyProps:x}=t,A=(0,c.A)(t,j),f=(0,p.A)({},t,{component:s,disableTypography:i}),R=(e=>{const{classes:a}=e;return(0,m.A)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},g,a)})(f);let T=v;null==T||T.type===y.A||i||(T=(0,b.jsx)(y.A,(0,p.A)({variant:n?"body2":"h5",className:R.title,component:"span",display:"block"},x,{children:T})));let z=l;return null==z||z.type===y.A||i||(z=(0,b.jsx)(y.A,(0,p.A)({variant:n?"body2":"body1",className:R.subheader,color:"text.secondary",component:"span",display:"block"},d,{children:z}))),(0,b.jsxs)(C,(0,p.A)({className:(0,u.A)(R.root,r),as:s,ref:a,ownerState:f},A,{children:[n&&(0,b.jsx)(S,{className:R.avatar,ownerState:f,children:n}),(0,b.jsxs)(k,{className:R.content,ownerState:f,children:[T,z]}),o&&(0,b.jsx)(w,{className:R.action,ownerState:f,children:o})]}))}));var T=t(9336),z=t(6494),M=t(7600),N=t(1906),P=t(5997),I=t(2192),_=t(9662);const H=(0,_.A)((0,b.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),L=(0,_.A)((0,b.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel");var E=t(3216),O=t(64),B=t.n(O);const D=()=>{const e=(0,E.Zp)(),a=(0,r.A)(),t=(0,n.wA)();(0,o.useEffect)((()=>(t((0,P.Wu)()),()=>{})),[t]);const{planList:c}=(0,n.d4)((e=>e.plan)),{authInfo:p}=(0,n.d4)((e=>e.auth));console.log("PlanList",c);const u=async(a,t)=>{if(!p)return B().fire({icon:"error",title:"Oops...",text:"Please Login First"}),void e("/login");a.preventDefault();try{(await I.A.post("/app/CreateOrder",{planId:t.id},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===p||void 0===p?void 0:p.token)}})).status}catch(s){console.log(s.response.data.message)}var o;if(!await(o="https://checkout.razorpay.com/v1/checkout.js",new Promise((e=>{const a=document.createElement("script");a.src=o,a.onload=()=>{e(!0)},a.onerror=()=>{e(!1)},document.body.appendChild(a)}))))return void console.log("Payment gateway failed to load !");const n={key:"rzp_test_wiEoVPHYx1DrGq",currency:"INR",handler:function(e){try{I.A.post("app/buyPlan",{planId:t.id,paidAmount:null===t||void 0===t?void 0:t.amount,paymentdetails:{paymentId:null===e||void 0===e?void 0:e.razorpay_payment_id,orderId:e.razorpay_order_id,signature:e.razorpay_signature,paymentStatus:e.razorpay_payment_status||"Success"}},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p.token)}}).then((e=>{var a;201===e.status?(localStorage.setItem("myplan",JSON.stringify(t)),B().fire({icon:"success",title:"Congratulations!",text:"Plan Purchase Successful"})):(console.log(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg),B().fire({icon:"error",title:"Oops...",text:"Something went wrong.."}))}))}catch(s){var a,o;console.log(null===s||void 0===s||null===(a=s.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)}},prefill:{name:null===p||void 0===p?void 0:p.name,email:null===p||void 0===p?void 0:p.email,contact:null===p||void 0===p?void 0:p.phone}},r=new window.Razorpay(n);r.open(),r.on("payment.failed",(function(e){}))};return(0,b.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",alignItems:"start",flexDirection:"column",boxShadow:"2px"},children:(0,b.jsx)(i.A,{disableGutters:!0,sx:{pt:8,pb:6},children:(0,b.jsx)(l.Ay,{container:!0,spacing:{xs:2,md:3},children:null!==c&&(null===c||void 0===c?void 0:c.map((e=>{var t;return(0,b.jsx)(l.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,b.jsxs)(d.A,{children:[(0,b.jsx)(R,{title:e.name,color:a.palette.primary.main,titleTypographyProps:{align:"center"}}),(0,b.jsx)(T.A,{sx:{margin:"8px 0",color:"primary",border:"none",backgroundColor:a.palette.text.disabled,height:"1px",width:"100%"}}),(0,b.jsxs)(z.A,{children:[(0,b.jsxs)(s.A,{sx:{display:"flex",justifyContent:"center",alignItems:"baseline",mb:2},children:[(0,b.jsxs)(y.A,{variant:"h2",color:"text.primary",children:["\u20b9",e.amount]}),(0,b.jsxs)(y.A,{variant:"body1",color:"text.secondary",children:["/\xa0",e.planValidity]})]}),(0,b.jsx)("ul",{children:e.features?null===e||void 0===e||null===(t=e.features)||void 0===t?void 0:t.map((e=>(0,b.jsxs)(s.A,{sx:{display:"flex",justifyContent:"start",alignItems:"start",gap:1},children:[(0,b.jsx)(y.A,{children:e.value?(0,b.jsx)(H,{sx:{color:e=>e.palette.success.main}}):(0,b.jsx)(L,{sx:{color:e=>e.palette.error.main}})}),(0,b.jsx)(y.A,{component:"li",variant:"body2",align:"left",sx:{color:a.palette.text.secondary,textTransform:"capitalize"},children:e.desc},e)]}))):""})]}),(0,b.jsx)(M.A,{sx:{p:2,placeSelf:"center"},children:(0,b.jsx)(N.A,{color:"secondary",variant:"contained",size:"medium",fullWidth:!0,onClick:a=>u(a,e),sx:{color:a.palette.text.info,boxShadow:"none",textTransform:"uppercase",borderRadius:6},children:"GET Started"})})]})},e.id)})))})})})}},7600:(e,a,t)=>{t.d(a,{A:()=>v});var o=t(8587),n=t(8168),r=t(5043),s=t(8387),i=t(8606),l=t(4535),d=t(2876),c=t(7056),p=t(2400);function u(e){return(0,p.Ay)("MuiCardActions",e)}(0,c.A)("MuiCardActions",["root","spacing"]);var m=t(579);const y=["disableSpacing","className"],h=(0,l.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,!t.disableSpacing&&a.spacing]}})((e=>{let{ownerState:a}=e;return(0,n.A)({display:"flex",alignItems:"center",padding:8},!a.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),v=r.forwardRef((function(e,a){const t=(0,d.A)({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:l}=t,c=(0,o.A)(t,y),p=(0,n.A)({},t,{disableSpacing:r}),v=(e=>{const{classes:a,disableSpacing:t}=e,o={root:["root",!t&&"spacing"]};return(0,i.A)(o,u,a)})(p);return(0,m.jsx)(h,(0,n.A)({className:(0,s.A)(v.root,l),ownerState:p,ref:a},c))}))}}]);
//# sourceMappingURL=452.4e67e85b.chunk.js.map