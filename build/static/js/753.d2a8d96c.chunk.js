"use strict";(self.webpackChunksapthapadhi=self.webpackChunksapthapadhi||[]).push([[753],{3753:(e,r,t)=>{t.r(r),t.d(r,{default:()=>I});var n=t(899),o=t(6534),a=t(5043),i=t(3216),s=t(5475),l=t(9367),d=t(3003),c=(t(529),t(6240)),p=t(310),h=t(1787),x=t(8903),u=t(6446),m=t(8911),g=t(5865),y=t(5795),j=t(7392),A=t(1906),b=t(4783),f=t(761),v=t(1216),w=t(4510),C=t(64),k=t.n(C),S=t(579);function I(){var e,r;const t=(0,c.A)(),C=(0,d.wA)(),I=(0,i.zy)(),P=(0,b.r)(),[L,B]=(0,a.useState)(!1),{loading:N,error:T,success:q}=(0,d.d4)((e=>e.auth));let Y=JSON.parse(localStorage.getItem("myplan"));console.log("MyPlan",Y);let z=(null===(e=I.state)||void 0===e||null===(r=e.from)||void 0===r?void 0:r.pathname)||(null!==Y&&void 0!==Y&&Y.amount?"/app/dashboard":"/pricing");console.log("redirectPath",z);const E=(0,o.Wx)({initialValues:{phone:"",password:""},validationSchema:n.Ik({phone:n.Yj().required("Required"),password:n.Yj().required("Required")}),onSubmit:e=>{C((0,w.ET)()),C((0,w.pH)(e)).then((e=>{e.error?k().fire({icon:"error",title:"Oops...",text:e.payload}):(k().fire({icon:"success",title:"Success!",text:"Login Successful"}),P.push(z),C((0,w.ET)()))})).catch((e=>{console.error("Login failed:",e)}))}}),{values:M,handleChange:W,handleSubmit:D,handleBlur:F,touched:H,errors:J}=E;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(l.mg,{children:(0,S.jsx)("title",{children:" Login | sapthapadhi "})}),(0,S.jsxs)(x.Ay,{container:!0,sx:{minHeight:"100vh",margin:0},children:[(0,S.jsx)(x.Ay,{item:!0,xs:0,sm:6,md:7,children:(0,S.jsx)(u.A,{sx:{...(0,f.ab)({color:(0,p.X4)(t.palette.background.default,.1),imgUrl:"/assets/background/image1.png"}),display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",margin:0}})}),(0,S.jsx)(x.Ay,{item:!0,xs:12,sm:6,md:5,children:(0,S.jsx)(m.A,{alignItems:"center",justifyContent:"center",sx:{height:1,width:1,backgroundColor:t.palette.background.paper},children:(0,S.jsxs)(u.A,{sx:{p:3,width:1,maxWidth:400,textAlign:"center"},children:[(0,S.jsx)(g.A,{variant:"h3",paddingY:1,textAlign:"center",sx:{color:e=>e.palette.primary.main},children:"Sign in to sapthapadhi"}),(0,S.jsxs)(u.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:1},children:[(0,S.jsxs)(g.A,{variant:"body2",textAlign:"center",sx:{color:t.palette.text.primary},children:["Don\u2019t have an account?"," "]}),(0,S.jsx)(s.N_,{to:"/register",variant:"subtitle2",children:(0,S.jsx)(g.A,{variant:"body1",textAlign:"center",sx:{color:t.palette.secondary.main},children:"Join Now."})})]}),(0,S.jsxs)(u.A,{component:"form",onSubmit:D,children:[(0,S.jsxs)(m.A,{spacing:3,marginY:4,children:[(0,S.jsx)(y.A,{InputLabelProps:{shrink:!0},name:"phone",sx:{input:{color:t.palette.text.primary},color:t.palette.text.primary},label:"Mobile number",placeholder:"Mobile Number",autoComplete:"tel",value:M.phone,onChange:W,onBlur:F,error:H.phone&&Boolean(J.phone),helperText:H.phone&&J.phone}),(0,S.jsx)(y.A,{InputLabelProps:{shrink:!0},name:"password",label:"Password",placeholder:"Password",value:M.password,onChange:W,sx:{input:{color:t.palette.text.primary},color:t.palette.text.primary},onBlur:F,autoComplete:"current-password",type:L?"Text":"password",error:H.password&&Boolean(J.password),helperText:H.password&&J.password,InputProps:{endAdornment:(0,S.jsx)(h.A,{position:"end",children:(0,S.jsx)(j.A,{onClick:()=>B(!L),edge:"end",children:(0,S.jsx)(v.A,{icon:L?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),(0,S.jsx)(A.A,{sx:{color:t.palette.common.white,fontSize:{xs:"2.8rem",sm:"2.8rem",md:"1.5rem"},backgroundColor:t.palette.primary.main,"&:hover":{backgroundColor:t.palette.primary.main}},fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",disabled:N,children:N?"loading ...":"Login"}),(0,S.jsx)(m.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:2},children:(0,S.jsx)(s.N_,{to:"/updatePassword",variant:"subtitle2",underline:"hover",children:"Forgot password?"})})]}),T?(0,S.jsxs)(g.A,{variant:"body1",color:"error",sx:{my:2},textAlign:"center",children:["Error : ",T]}):q?(0,S.jsxs)(g.A,{variant:"body1",color:"primary",sx:{my:2},textAlign:"center",children:[q,"."]}):null]})})})]})]})}}}]);
//# sourceMappingURL=753.d2a8d96c.chunk.js.map